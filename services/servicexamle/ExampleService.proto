syntax = "proto3";

package trb.servicexamle.public.contract.v1;
option go_package = "github.com/Mar1eena/trb_proto/services/trb.servicexamle.public.contract.v1";

import "google/api/annotations.proto";

service ExampleService {
  // Unary RPC (один запрос - один ответ)
  rpc UnaryRPCMessage (MessageRequest) returns (MessageResponse){
    option (google.api.http) = {
      post: "/unary"
      body: "*"
    };
  };
  
  // Server-side streaming (один запрос - поток ответов)
  rpc ServerSideStream (MessageRequest) returns (stream MessageStreamResponse){
    option (google.api.http) = {
      post: "/stream"
      body: "*"
    };
  };
  
  // Client-side streaming (поток запросов - один ответ)
  rpc ClientSideStream (stream MessageStreamRequest) returns (MessageResponse);
  
  // Bidirectional streaming (двусторонний поток)
  rpc BidirectionalStream (stream MessageStreamRequest) returns (stream MessageStreamResponse);
}

message MessageRequest {
  string text = 1;
}

message MessageResponse {
  string text = 1;
}

message MessageStreamRequest {
  string text = 1;
}

message MessageStreamResponse {
  string text = 1;
}

