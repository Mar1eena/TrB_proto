syntax = "proto3";

package moex.contract.v1;
option go_package = "github.com/Mar1eena/trb_proto/services/moex.contract.v1";

import "google/api/annotations.proto";

service moex {
    rpc Request (Req) returns (Resp){
      option (google.api.http) = {
        post: "/Request"
        body: "*"
    };
  };   
}
  
  message Req {
    header header = 1;
    body body = 2;
  }

  message Resp {
    string reply = 1;
  }

  message header {
    string beginstring = 1;
    string msgtype = 2;
    string sendercompid = 3;
    string targetcompid = 4;
    string msgseqnum = 5;
    string sendingtime = 6;
  }
  
  message body {
    logon logon = 1;
    TradeCaptureReportRequest TradeCaptureReportRequest = 2;
  }

  message TradeCaptureReportRequest {
    string TradeReportID = 1;
    string UnsolicitedIndicator = 2;
    string ExecType  = 3;
    string ExecID = 4;
    string PreviouslyReported = 5;
    repeated Instrument Instrument = 6;
    string NoSides  = 7;
    string Side  = 8;
    string OrderID  = 9;
    string ComplianceID = 10;
    string LastPx = 11;  
    string LastQty = 12;
    string TradeDate = 13;
    string TransactTime = 14;
  }

  message Instrument {
    string Symbol = 1;
    string Product = 2;
    string SecurityType = 3;
  }

  message logon {
    string encryptmethod = 1;
    string heartbtint = 2;
    string password = 3;
  }