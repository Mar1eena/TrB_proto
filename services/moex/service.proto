syntax = "proto3";

package moex.contract.v1;
option go_package = "github.com/Mar1eena/trb_proto/services/moex.contract.v1";

import "google/api/annotations.proto";

service moex {
    rpc Logon (Logonrequest) returns (Logonresponse){
      option (google.api.http) = {
        post: "/logon"
        body: "*"
    };
  };
    rpc Tradecapturereport (Tradecapturereportrequest) returns (Tradecapturereportresponse){
      option (google.api.http) = {
        post: "/tradecapturereport"
        body: "*"
    }; 
  };  
}
  
  // Сообщения для unary-методов
  message Logonrequest {
    header header = 1;
    logon logon = 2;
  }
  
  message Logonresponse {
    string reply = 1;
  }

  message Tradecapturereportrequest {
    header header = 1;
    string tradereportid = 2;
    string unsolicitedindicator = 3;
    string exectype = 4;
    string execid = 5;
    string previouslyreported = 6;
    string nosides  = 7;
    string side  = 8;
    string orderid  = 9;
    string complianceid = 10;
    string lastpx = 11;  
    string lastqty = 12;
    string tradedate = 13;
    string transacttime = 14;
  }

  message Tradecapturereportresponse {
    string reply = 1;
  }

  message header {
    string beginstring = 1;
    string msgtype = 2;
    string sendercompid = 3;
    string targetcompid = 4;
    string msgseqnum = 5;
    string sendingtime = 6;
  }

  message logon {
    string encryptmethod = 1;
    string heartbtint = 2;
    string password = 3;
  }